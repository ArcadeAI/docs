import { Steps, Callout, Tabs } from "nextra/components";
import { SignupLink } from "@/app/_components/analytics";
import Image from "next/image";

export const IMAGE_SCALE_FACTOR = 2;
export const JETBRAINS_START_WIDTH = 318;
export const JETBRAINS_START_HEIGHT = 184;

# Use Arcade in GitHub Copilot

<GuideOverview>
<GuideOverview.Outcomes>

Connect GitHub Copilot to an Arcade MCP Gateway.

</GuideOverview.Outcomes>

<GuideOverview.Prerequisites>

1. Create an <SignupLink linkLocation="docs:github-copilot-client">Arcade account</SignupLink>
2. Get an [Arcade API key](/get-started/setup/api-keys)
3. Create an [Arcade MCP Gateway](/guides/mcp-gateways) and select the tools you want to use

</GuideOverview.Prerequisites>

</GuideOverview>

### Set up GitHub Copilot

<Tabs
  items={["VS Code", "JetBrains IDEs", "Visual Studio", "Eclipse", "XCode"]}
  storageKey="copilotIDE"
>
  <Tabs.Tab>
    In VS Code, Github Copilot will automatically detect the configured MCP
    servers. Read the [VS Code
    instructions](/get-started/mcp-clients/visual-studio-code) to set both of
    them up.
  </Tabs.Tab>
  <Tabs.Tab>
    <Callout type="info">
      The GitHub Copilot extension for JetBrains IDEs does not currently support remote MCP servers with Dynamic Client Registration. To use an Arcade MCP Gateway with GitHub Copilot on a JetBrains IDE, you must configure the MCP gateway as `Arcade Headers` in the dashboard.
    </Callout>

    1. In the lower right corner, click the GitHub Copilot icon.
    2. From the menu, select "Open Chat", make sure you are in Agent mode, then click the tools icon.
    3. A dialog will open with a list of tools. On the bottom left, click "+ Add More Tools..."
    4. This will open the `mcp.json` file in the editor. In the `mcp.json` file, define your MCP servers.

    <Tabs items={["Arcade Headers", "Arcade Auth"]} storageKey="preferredMCPAuthMode">
      <Tabs.Tab>

      ```json
      {
        "servers": {
          "mcp-arcade": {
            "url": "https://api.arcade.dev/mcp/<YOUR-GATEWAY-SLUG>",
            "requestInit": {
              "headers": {
                "Authorization": "Bearer {arcade_api_key}",
                "Arcade-User-ID": "{arcade_user_id}"
              }
            }
          }
        }
      }
      ```

      </Tabs.Tab>
      <Tabs.Tab>
        The GitHub Copilot extension for JetBrains IDEs does not currently support remote MCP servers with Dynamic Client Registration. To use an Arcade MCP Gateway with GitHub Copilot on a JetBrains IDE, you must configure the MCP gateway as `Arcade Auth` in the dashboard.
      </Tabs.Tab>
    </Tabs>

    Once you save the `mcp.json` file, a start button will appear over the new server name. Click it to start the MCP server.
    <Image
      alt={"Start the MCP server"}
      className="max-w-full mt-4"
      src={"/images/mcp-gateway/github-copilot/jetbrains/start-mcp.png"}
      width={JETBRAINS_START_WIDTH / IMAGE_SCALE_FACTOR}
      height={JETBRAINS_START_HEIGHT / IMAGE_SCALE_FACTOR}
    />

    <Callout type="important">
      MCP tools are only available in Agent mode.
    </Callout>

  </Tabs.Tab>
  <Tabs.Tab>
    In VS Code, Github Copilot will automatically detect the configured MCP
    servers. Read the [VS Code
    instructions](/get-started/mcp-clients/visual-studio-code) to set both of
    them up.
  </Tabs.Tab>
  <Tabs.Tab>
    In VS Code, Github Copilot will automatically detect the configured MCP
    servers. Read the [VS Code
    instructions](/get-started/mcp-clients/visual-studio-code) to set both of
    them up.
  </Tabs.Tab>
  <Tabs.Tab>
    In VS Code, Github Copilot will automatically detect the configured MCP
    servers. Read the [VS Code
    instructions](/get-started/mcp-clients/visual-studio-code) to set both of
    them up.
  </Tabs.Tab>
</Tabs>

### Try it out

1. Open the chat pane (typically command-l)
1. Make sure you are in **Agent** mode
1. Ask the agent to use a tool!

<Tabs items={["Arcade Headers", "Arcade Auth"]} storageKey="preferredMCPAuthMode">
  <Tabs.Tab>

```json
{
  "servers": {
    "mcp-arcade": {
      "url": "https://api.arcade.dev/mcp/<YOUR-GATEWAY-SLUG>",
      "headers": {
        "Authorization": "Bearer {arcade_api_key}",
        "Arcade-User-ID": "{arcade_user_id}"
      }
    }
  }
}
```

     </Tabs.Tab>

  <Tabs.Tab>

```json
{
  "mcpServers": {
    "mcp-arcade": {
      "url": "https://api.arcade.dev/mcp/<YOUR-GATEWAY-SLUG>"
    }
  }
}
```

     </Tabs.Tab>

</Tabs>
