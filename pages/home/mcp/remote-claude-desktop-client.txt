import { Steps, Tabs } from "nextra/components";
import { SignupLink } from "@/components/Analytics";

# Connect Claude Desktop to Arcade

In this guide, you'll learn how to connect Claude Desktop to a remote Arcade server.

<Steps>

### Prerequisites

1. Create an <SignupLink utmParams={{
            utm_source: "docs",
            utm_medium: "page",
            utm_campaign: "claude-desktop-client",
          }} linkLocation="docs:claude-desktop-client">Arcade account</SignupLink>
2. Get an [Arcade API key](/home/api-keys)

### Get a token and mcp-session-id

1. Exchange your Arcade API key for a token. Save the token returned in the response for later.
```bash
curl -X POST https://api.arcade.dev/v1/tokens/exchange \
  -H "Authorization: Bearer YOUR_ARCADE_API_KEY_HERE" \
  -H "Content-Type: application/json" \
  -d '{"user_id": "you@example.com"}'
```
2. Use the token to get an `mcp-session-id`. Save the `mcp-session-id` returned in the response for later.
```bash
curl -i -X POST https://api.arcade.dev/v1/mcp \
  -H "Accept: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 123,
    "method": "initialize",
    "params": {
      "capabilities": {},
      "clientInfo": {
        "name": "init",
        "version": "1.0.0"
      },
      "protocolVersions": "2024-11-05"
    }
  }'
```

### Set up Claude Desktop

1. Download and open [Claude Desktop](https://claude.ai/download)
2. Claude Menu --> "Settings" --> "Developer" --> "Edit Config"
3. This will create a configuration file at:
    - On Mac: `~/Library/Application Support/Claude/claude_desktop_config.json`
    - On Windows: `%APPDATA%\Claude\claude_desktop_config.json`
4. Open the configuration file and replace the file contents with this:

Replace `YOUR_TOKEN_HERE` and `YOUR_SESSION_ID_HERE` with the token and `mcp-session-id` you saved earlier.
```json
{
  "mcpServers": {
    "arcade-http": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote@next",
        "https://api.arcade.dev/v1/mcp",
        "--transport",
        "http-only",
        "--header",
        "Authorization:${BEARER_TOKEN}",
        "--header",
        "mcp-session-id:${MCP_SESSION_ID}"
      ],
      "env": {
        "BEARER_TOKEN": "Bearer YOUR_TOKEN_HERE",
        "MCP_SESSION_ID": "YOUR_SESSION_ID_HERE"
      }
    }
  }
}
```
10. Restart Claude Desktop. Upon restarting, you should have access to Arcade tools.

<div className="my-custom-class">
  <img
    src="/images/screenshots/remote-claude-mcp.png"
    alt="Claude Desktop connected to Arcade"
  />
</div>

</Steps>