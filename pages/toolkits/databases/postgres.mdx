# Postgres

import ToolInfo from "@/components/ToolInfo";
import Badges from "@/components/Badges";
import TabbedCodeBlock from "@/components/TabbedCodeBlock";
import TableOfContents from "@/components/TableOfContents";
import ToolFooter from "@/components/ToolFooter";

<ToolInfo
  description="Enable agents to interact with PostgreSQL databases (read only)."
  author="Arcade"
  codeLink="https://github.com/ArcadeAI/arcade-ai/tree/main/toolkits/postgres"
  authType="database connection string"
  versions={["0.1.0"]}
/>

<Badges repo="arcadeai/arcade-postgres" />

The Arcade Postgres toolkit provides a pre-built set of tools for interacting with PostgreSQL databases in a read-only manner.

<Note>
This toolkit is meant to be an example of how to build a toolkit for a database, and is not intended to be used in production.  For production use, we recommend forking this repository and building your own toolkit with use-case specific tools.
</Note>


This repository demonstrates a few concepts to aid in LLM-powered database interactions.
* Re-use an existing database pool for all tool calls
* Enforce read-only access to the database
* Hint to the LLM that both table and schema discovery is required before executing a query
* Enforce a limit on the number of rows returned by a query

## Available Tools

<TableOfContents
  headers={["Tool Name", "Description"]}
  data={
    [
      ['Postgres.DiscoverTables', "Discover all tables in a PostgreSQL database."],
      ['Postgres.GetTableSchema', "Get the schema of a table in a PostgreSQL database."],
      ['Postgres.ExecuteQuery', "Execute a query on a PostgreSQL database."],
    ]
  }
/>

Note that all tools require the `DATABASE_CONNECTION_STRING` secret to be set.

## Postgres.DiscoverTables

Discover all tables in a PostgreSQL database.

<TabbedCodeBlock
  tabs={[
    {
      label: "Call the Tool",
      content: {
        Python: [
          "/examples/integrations/toolkits/postgres/discover_tables_example_call_tool.py",
        ],
        JavaScript: ["/examples/integrations/toolkits/postgres/discover_tables_example_call_tool.js"],
      },
    }
  ]}
/>
## Postgres.GetTableSchema

Get the schema of a table in a PostgreSQL database.

<TabbedCodeBlock
  tabs={[
    {
      label: "Call the Tool",
      content: {
        Python: [
          "/examples/integrations/toolkits/postgres/get_table_schema_example_call_tool.py",
        ],
        JavaScript: ["/examples/integrations/toolkits/postgres/get_table_schema_example_call_tool.js"],
      },
    }
  ]}
/>
## Postgres.ExecuteQuery

<TabbedCodeBlock
  tabs={[
    {
      label: "Call the Tool",
      content: {
        Python: [
          "/examples/integrations/toolkits/postgres/execute_query_example_call_tool.py",
        ],
        JavaScript: ["/examples/integrations/toolkits/postgres/execute_query_example_call_tool.js"],
      },
    }
  ]}
/>

Execute a query on a PostgreSQL database.  Be sure that your agent runs the `Postgres.DiscoverTables` and `Postgres.GetTableSchema` tools before executing a query.
