---
title: "Call tools with LLMs"
description: "Learn how to call tools with LLMs using Arcade AI"
---

import { Steps } from "nextra/components";

# Call tools with LLMs

In this guide, you'll learn how to call tools in an AI workflow using OpenAI and
Arcade AI.

To do this, you'll build an AI chatbot that can summarize your email via an
authorized connection to Gmail.

<Steps>

### Prerequisites

- [Set up Arcade AI](/guides/quickstart)

### Initialize the OpenAI client

Use the standard `OpenAI` or `AsyncOpenAI` client in your Python code, with the
Arcade AI base URL and API key:

```python
import os
from openai import OpenAI

# Initialize the OpenAI client, pointing to Arcade AI
client = OpenAI(
    base_url="https://api.arcade-ai.com",
    api_key=os.environ.get("ARCADE_API_KEY"))
```

Requests made with this client will be routed to Arcade AI first, then to
OpenAI. The AI model will instantly have access to the tools provided by Arcade
AI.

### Set the user ID

Authorized tools access data on behalf of your end user, so they need to know
the user's ID.

```python
# Get a unique identifier for your end user
user_id = "you@example.com"
```

In a web or mobile app, you'd typically get this from the current user session.

### Generate a response

With the client set up, use `client.chat.completions.create` to generate a
response to a user's prompt:

```python
while True:
    # Input prompt
    prompt = input("Enter your prompt (type 'exit' to quit): ")
    if prompt.lower() == "exit":
        break

    # Generate a response
    response = client.chat.completions.create(
        messages=[
            {"role": "user", "content": prompt},
        ],
        model="gpt-4o-mini",
        max_tokens=500,
        user=user_id,

        # Make specific tools available to the AI model
        tools=[
            "Google.GetEmails",
        ],

        # Instruct the model to use tools and generate a response
        tool_choice="generate",
    )
    print(response.choices[0].message.content)
```

</Steps>

### How it works

When you use `tool_choice="generate"` and specify a tool like
`Google.GetEmails`, Arcade AI coordinates the interaction between the AI model
and the tools. To your users, it appears that the AI model has all the
capabilities provided by the tools.

### Next steps

Try adding more items to the `tools` array to see how the AI model uses them.

- Add `Math.SquareRoot` and ask for the square root of a huge number.
- Add `X.WritePost` and ask the AI to post on X for you.

For apps and agents that aren't directly generating chat completions, you can
[authorize and call tools programmatically](/guides/toolcalling). This is useful
when you need more control over the tool calling process.

When you're ready to build your own tools, read about
[how to create tools](/guides/custom-tools).
